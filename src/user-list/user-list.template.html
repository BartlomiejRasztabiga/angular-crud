<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <h2>Users</h2>
      <table class="table">
        <thead>
        <tr>
          <th>Username</th>
          <th>Password</th>
          <th>Edit</th>
          <th>Delete</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="user in $ctrl.users">
          <th>{{user.username}}</th>
          <th>{{user.password}}</th>
          <th>
            <button type="button" class="btn btn-default" data-toggle="modal" data-target="#editUserModal"
                    ng-click="$ctrl.startEditingUser(user)"><span class="glyphicon glyphicon-pencil"
                                                                  style="padding-right: 5px"></span>Edit
            </button>
          </th>
          <th>
            <button type="button" class="btn btn-danger" ng-click="$ctrl.deleteUser(user)"><span
              class="glyphicon glyphicon-trash" style="padding-right: 5px"></span>Delete
            </button>
          </th>
        </tr>
        </tbody>
      </table>

      <!--  Add user Form -->
      <form name="addUserForm" ng-submit="addUserForm.$valid && $ctrl.addUser()" novalidate>

        <!--  Review Form -->
        <h4>Add user</h4>
        <fieldset class="form-group">
          <input ng-model="$ctrl.newUser.username" class="form-control" placeholder="username..."
                 title="Username" required/>
        </fieldset>
        <fieldset class="form-group">
          <input ng-model="$ctrl.newUser.password" class="form-control" placeholder="password..." title="Password"
                 required/>
        </fieldset>
        <fieldset class="form-group">
          <input type="submit" class="btn btn-primary pull-right" value="Add user"/>
        </fieldset>
      </form>

      <!-- Edit User Modal -->
      <div id="editUserModal" class="modal fade" role="dialog">
        <div class="modal-dialog">

          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">Edit user</h4>
            </div>
            <div class="modal-body">
              <form name="editUserForm" novalidate>
                <fieldset class="form-group">
                  <label for="username">Username</label>
                  <input ng-model="$ctrl.editedUser.username" class="form-control" title="Username"
                         id="username" required/>
                </fieldset>
                <fieldset class="form-group">
                  <label for="password">Password</label>
                  <input ng-model="$ctrl.editedUser.password" class="form-control" title="Password"
                         id="password" required/>
                </fieldset>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-dismiss="modal">Abort</button>
              <button type="button" class="btn btn-primary pull-right" data-dismiss="modal"
                      ng-class="{'disabled': editUserForm.$invalid}" ng-click="$ctrl.editUser()">
                <!-- Użytkownik nadal może kliknąć edit user, bywa -->
                Edit user
              </button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
